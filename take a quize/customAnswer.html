<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/customAnwer.css">

</head>
<body>
    <header><a href="./main.html"><div class="logo">ë¬¸ í€´ì¦ˆ~</div></a>
    </header>
    <main>
      <div class="container">
        <div class="titlewrap">
          
          <div class="user_img">
            <img src="./img/character.jpg" alt="">
          </div>
          <div class="inputqusetion"></div>
          <div class="write">
          <div class="answer" type="text" placeholder="..." id="answer_01"></div>
          <div class="answer" type="text" placeholder="..." id="answer_02"></div>
          <div class="answer" type="text" placeholder="..." id="answer_03"></div>
          <div class="answer" type="text" placeholder="..." id="answer_04"></div>
          </div>
         <div class="nextAnswer"><p>í€´ì¦ˆ ê²°ê³¼ í™•ì¸í•˜ê¸°</p><img src="./img/icons8-right-arrow-60.png" alt=""></div> 
         <div class="message"></div>
      </div>
      </div>
    </main>
    <footer>Info</footer>
    <script>
      let quize_arr = [];

async function loadData() {
  try {
    const response = await fetch("/make a quize/data.json/data.json");
    const data = await response.json();
    quize_arr = data;
    console.log(quize_arr);
    const savedUsername = localStorage.getItem("username");
    if (savedUsername) {
      quize_arr[10].username = savedUsername; // quize_arr ë°°ì—´ì— ì €ì¥
    }
    for (let i = 0; i < 9; i++) {
const correctAnswer = localStorage.getItem(i); //correctê°’ localStorageì—ì„œ ê°€ì ¸ì˜¤ê¸°
if (correctAnswer) {
  quize_arr[i].correct = correctAnswer;
}
}
const customQuestion = localStorage.getItem("customquestion");//custom ì§ˆë¬¸ ë³´ê¸° ì •ë‹µ ê°’ localStorageì—ì„œ ê°€ì ¸ì˜¤ê¸°
const customAnswers = JSON.parse(localStorage.getItem("customAnswers"));
const correct = localStorage.getItem("correct");

if (customQuestion) quize_arr[9].customquestion = customQuestion;
if (customAnswers) quize_arr[9].customAnswers = customAnswers;
if (correct) quize_arr[9].correct = correct;

<<<<<<< HEAD
const numCorrect = localStorage.getItem("numCorrect");//ê¸°ì¡´ ì§ˆë¬¸ ì •ë‹µ ê°¯ìˆ˜
console.log(numCorrect);

=======
>>>>>>> cfac138e29462dd3be42685e8f2ce97c8518ed62
const customTitle = document.querySelector(".inputqusetion");
customTitle.textContent = customQuestion;//inputqusetionì— customQuestionì…ë ¥

const correctAnswer = document.querySelectorAll(".answer");
correctAnswer.forEach((answerElement, index) => {//ê° answer ë²„íŠ¼ì— customAnswers ì…ë ¥
  answerElement.textContent = customAnswers[index];
});

  } catch (error) {
    console.log(error);
  }
}
//answerë²„íŠ¼ í´ë¦­ ì‹œ orange ë°°ê²½ìœ¼ë¡œ ë³€ê²½
const lastAnswers = document.querySelectorAll(".answer")
lastAnswers.forEach(lastAnswer => {
  lastAnswer.addEventListener("click", function() {
      // ë°°ê²½ ì´ˆê¸°í™” 
      lastAnswers.forEach(elem => {
      elem.style.backgroundColor = "";
    });
    this.style.backgroundColor = "orange";
  });
});

<<<<<<< HEAD
let lastcorrect = 0;//lastcorrect ë§ˆì§€ë§‰ ì§ˆë¬¸ ì •ë‹µ í™•ì¸ í•˜ê¸° í‹€ë¦¬ë©´ 0 ë§ìœ¼ë©´ 1 ë°˜í™˜ 
=======
let lastcorrect = 0;

>>>>>>> cfac138e29462dd3be42685e8f2ce97c8518ed62
const nextAnswerButton = document.querySelector(".nextAnswer");
nextAnswerButton.addEventListener("click", function() {
  
  const selectedAnswer = document.querySelector(".answer[style='background-color: orange;']");
  if (!selectedAnswer) {
    alert("ì •ë‹µì„ ğŸ‘‰í´ë¦­í•´ì£¼ì„¸ìš”.");
    return;
  }
<<<<<<< HEAD
  if (selectedAnswer && selectedAnswer.textContent === quize_arr[9].correct) { //ì •ë‹µê³¼ í˜„ì¬ selectedAnswerì˜ í…ìŠ¤íŠ¸ê°€ ê°™ë‹¤ë©´ +1
=======
  if (selectedAnswer && selectedAnswer.textContent === quize_arr[9].correct) {
>>>>>>> cfac138e29462dd3be42685e8f2ce97c8518ed62
    lastcorrect++;
    localStorage.setItem("lastcorrect", lastcorrect);
  }else {
    lastcorrect = 0; // í‹€ë¦° ë‹µì„ ì…ë ¥í•˜ë©´ 0ìœ¼ë¡œ ì´ˆê¸°í™”
    localStorage.setItem("lastcorrect", lastcorrect);
  }
  //ì²´ì ì¤‘ ë©”ì„¸ì§€ 3ì´ˆê°„ ì¶œë ¥ í›„ ë‹¤ìŒ ê²°ê³¼ í˜ì´ì§€ë¡œ ì „í™˜
  const message = document.querySelector(".message");
  message.style.display = "block";
  message.textContent = "ğŸ“ì±„ì  ì¤‘ì…ë‹ˆë‹¤.....ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”";
  setTimeout(() => {
    window.location.href = "result.html";
  }, 3000);
});

loadData();


    </script>
</body>
</html>